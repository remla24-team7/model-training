schema: '2.0'
stages:
  preprocess:
    cmd: python scripts/preprocess.py
    deps:
    - path: dataset
      hash: md5
      md5: 48900e618890f4ce97201d1592d45045.dir
      size: 172904892
      nfiles: 3
    params:
      params.yaml:
        preprocess:
          sequence_length: 200
    outs:
    - path: outputs/preprocess
      hash: md5
      md5: 3bdc63464e8f4308c532bc445db561af.dir
      size: 1555447879
      nfiles: 8
  train:
    cmd: python scripts/train.py
    deps:
    - path: outputs/preprocess
      hash: md5
      md5: 3bdc63464e8f4308c532bc445db561af.dir
      size: 1555447879
      nfiles: 8
    params:
      params.yaml:
        train:
          embedding_dim: 50
          loss_function: binary_crossentropy
          optimizer: adam
          metrics:
          - accuracy
          batch_size: 5000
          epochs: 2
    outs:
    - path: outputs/train
      hash: md5
      md5: bf6610c35ed9dc813afb2fdd27ebd39c.dir
      size: 5472653
      nfiles: 2
  evaluate:
    cmd: python scripts/evaluate.py
    deps:
    - path: outputs/preprocess
      hash: md5
      md5: 3bdc63464e8f4308c532bc445db561af.dir
      size: 1555447879
      nfiles: 8
    - path: outputs/train
      hash: md5
      md5: bf6610c35ed9dc813afb2fdd27ebd39c.dir
      size: 5472653
      nfiles: 2
    params:
      params.yaml:
        evaluate:
          slice: 500
          batch_size: 50
    outs:
    - path: outputs/evaluate/conf_matrix.png
      hash: md5
      md5: 2226b94b8140f5b6514bd6fa72ce5013
      size: 17977
    - path: outputs/evaluate/metrics.json
      hash: md5
      md5: cc208fa965751cf529b194f1eec0d261
      size: 545
    - path: outputs/evaluate/roc_curve.png
      hash: md5
      md5: 9ac5f8d64aa16285024b0d2368b49cd9
      size: 21448
  mutamorphic_preprocess:
    cmd: python scripts/mutamorphic/preprocess.py
    deps:
    - path: dataset/test.txt
      hash: md5
      md5: a1cab28ad8554fd9269d31e5708469d0
      size: 32724891
    outs:
    - path: outputs/mutamorphic/x_test.joblib
      hash: md5
      md5: db8b10fab7ef46002b9e42f4b78b772a
      size: 308840098
